---
title       : GTA House Sold Price
subtitle    : ..help you finding the correct price of your dream home in the Greater Toronto Area
author      : Owen JY 
job         : Parttime Comedian
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
#url:
#  lib:      ../libraries
#  assets:   ../assets
widgets     : []            # {mathjax, quiz, bootstrap}
ext_widgets : {rCharts: libraries/nvd3}
mode: selfcontained
knit        : slidify::knit2slides

--- 
## Overview
Navigating the red-hot Toront housing market can be very chanllenging. I have created this simple app to help home-hunters. The App aims to do:
 * Show price of rencently sold houses on Google Map
 * Show price trend
 * Clarifying "bidding-war" with sold numbers




--- 
## Map

#### Zoom-in to Toronto then refresh your browser by pressing F5
```{r echo=F,results='asis',eval=TRUE ,error=FALSE,warning=FALSE}

data1<-read.csv("C:/Users/owen/R/mapfast/data/markham.csv",stringsAsFactors=F)
data1$address<-with(data1,paste(St._No.,St._Name,St._Type,",markham,ontario,canada"))
data1$region<-"Markham"

data2<-read.csv("C:/Users/owen/R/mapfast/data/RH.csv",stringsAsFactors=F)
data2$address<-with(data2,paste(St._No.,St._Name,St._Type,",richmond hill,ontario,canada"))
data2$region<-"Richmond Hill"


data3<-read.csv("C:/Users/owen/R/mapfast/data/C15.csv",stringsAsFactors=F)
data3$address<-with(data3,paste(St._No.,St._Name,St._Type,",toronto,ontario,canada"))
data3$region<-"Toronto"


data<-rbind(data1,data2,data3)
data<-data[(which(!(data$MLS_No.==""))),]
data$pct<-paste0(as.character(round(with(data,Sold_Price/Ask_Price-1)*100)),'%')
data$dom<-with(data,as.date(Sold_Date)-as.date(Contract_Date))
data$saledate<-with(data,as.date(Sold_Date))
data$tip<-with(data,paste(St._No.,St._Name,St._Type,"Asking: ",Ask_Price,"Sold: ",Sold_Price,"Margin: ",pct
                      ,"DOM: ",dom
                      ,"Date Sold: ",saledate))
##markham,ontario,canada
data$weeknum <- week(with(data,as.date(Sold_Date)))


data<-data.table(data)
data<-data[is.na(Sold_Price)==F,]
data<-data[!duplicated(data),]
data<-data[,avg_price:=mean(Sold_Price),by=weeknum]
  m<-gvisMap(data[1:10,],
               locationvar="address",
               tipvar="tip",
               options=list(showTip=TRUE, 
                            #showLine=TRUE, 
                            enableScrollWheel=TRUE,
                            mapType="normal", 
                            ##useMapTypeControl=TRUE,
                            width=800,height=600)
    )
return(m)  
```

---
## Price Trend
#### Showing trending price
```{r trend, fig.width=12, fig.height=10,echo=F,results='asis',eval=TRUE ,error=FALSE,warning=FALSE}
library(png)
library(grid)
img <- readPNG("C:/Users/owen/R/mydeck/assets/img/trend.png")
 grid.raster(img)
```

---
## Price War
#### Showing price spread in % v.s. sold price
```{r war, fig.width=12, fig.height=10,echo=F,results='asis',eval=TRUE ,error=FALSE,warning=FALSE}
library(png)
library(grid)
img2 <- readPNG("C:/Users/owen/R/mydeck/assets/img/war.png")
grid.raster(img2)
```
